{"version":3,"sources":["components/card.module.css","ErrorBoundaries/ErrorBoundary.module.css","components/layout/loading.module.css","Containers/game.module.css","components/lostGame.module.css","context/levelContext.tsx","components/layout/headerr.tsx","components/card.tsx","cardsLogic/cards.ts","components/layout/loading.tsx","components/lostGame.tsx","Containers/game.tsx","ErrorBoundaries/ErrorBoundary.tsx","components/App.tsx","index.tsx","components/layout/headerr.module.css"],"names":["module","exports","LevelContext","React","createContext","Headerr","level","useContext","className","style","header","src","alt","id","logo","headerText","Card","props","pokeCard","onClick","clickHandler","pokeImg","imgSrc","pokeName","name","P","require","Pokedex","getPokemonsByIds","range","randomNumber","newArr","i","Math","floor","random","includes","push","getRandomNumbers","map","el","a","getPokemonByName","response","pokemon","imgLink","sprites","other","front_default","Loading","loading","loadingImg","LostGame","lost","location","reload","Game","useState","cards","setCards","isLoading","setLoading","cardNumber","setCardNumber","isError","setError","isLost","setLost","index","isClicked","oldState","newState","state","filter","card","length","IncreaseLevel","checkWin","array","newArray","j","shuffle","useEffect","Promise","all","then","result","cardsState","catch","populateCards","Error","gameBoard","ErrorBoundary","hasError","this","error","text","img","children","Component","App","setSevel","Provider","value","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5274a116.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"pokeImg\":\"card_pokeImg__1YvI5\",\"pokeName\":\"card_pokeName__8boI_\",\"pokeCard\":\"card_pokeCard__59wxh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"ErrorBoundary_text__2e0Te\",\"img\":\"ErrorBoundary_img__NPIOo\",\"error\":\"ErrorBoundary_error__1M0LD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"loading_loading__2IRo8\",\"loadingImg\":\"loading_loadingImg__36sGj\",\"rotation\":\"loading_rotation__1mh5E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gameBoard\":\"game_gameBoard__QMuL_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lost\":\"lostGame_lost__2qf9I\"};","import React from 'react';\r\n\r\nconst LevelContext = React.createContext(1);\r\nexport default LevelContext;\r\n","import React, { useContext } from 'react';\r\nimport style from './headerr.module.css';\r\nimport LevelContext from '../../context/levelContext';\r\n\r\nconst Headerr: React.FC = () => {\r\n  const level = useContext(LevelContext);\r\n  return (\r\n    <header className={style.header}>\r\n      <img\r\n        src=\"https://i.pinimg.com/originals/76/47/9d/76479dd91dc55c2768ddccfc30a4fbf5.png\"\r\n        alt=\"\"\r\n        id={style.logo}\r\n      />\r\n      <p className={style.headerText}>Level {level}</p>;\r\n      <p className={style.headerText}>Remember them all</p>\r\n    </header>\r\n  );\r\n};\r\nexport default Headerr;\r\n","import React, { ReactNode } from 'react';\r\nimport style from './card.module.css';\r\n\r\ntype props = {\r\n  name: string;\r\n  id: number;\r\n  imgSrc: string;\r\n  children?: ReactNode;\r\n  clickHandler: () => void;\r\n};\r\nfunction Card(props: props) {\r\n  return (\r\n    <div className={style.pokeCard} onClick={props.clickHandler}>\r\n      <img className={style.pokeImg} src={props.imgSrc} alt=\"\" />\r\n      <p className={style.pokeName}>\r\n        #{props.id} {props.name}\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import { pokemon } from '../interfaces/pokemonsInterface';\r\n\r\nconst Pokedex = require('pokeapi-js-wrapper');\r\nconst P = new Pokedex.Pokedex();\r\n\r\nfunction getRandomNumbers(range: number): number[] {\r\n  let newArr: number[] = [];\r\n  let randomNumber: number;\r\n  for (let i = 0; i < range; i++) {\r\n    do {\r\n      randomNumber = Math.floor(Math.random() * 898);\r\n    } while (newArr.includes(randomNumber));\r\n    newArr.push(randomNumber);\r\n  }\r\n  return newArr;\r\n}\r\nfunction getPokemonsByIds(range: number) {\r\n  let ids = getRandomNumbers(range);\r\n  let pokemons = ids.map(async (el) => {\r\n    let response: pokemon = await P.getPokemonByName(el);\r\n    let pokemon = {\r\n      id: response.id,\r\n      imgLink: response.sprites.other['official-artwork'].front_default,\r\n      name: response.name,\r\n    };\r\n    return pokemon;\r\n  });\r\n  return pokemons;\r\n}\r\n\r\nexport default getPokemonsByIds;\r\n","import React from 'react';\r\nimport style from './loading.module.css';\r\n\r\nfunction Loading() {\r\n  return (\r\n    <div id={style.loading}>\r\n      <img\r\n        id={style.loadingImg}\r\n        src=\"https://upload.wikimedia.org/wikipedia/commons/4/4c/Pokeball.png\"\r\n        alt=\"\"\r\n      />\r\n      <p>Loading...</p>{' '}\r\n    </div>\r\n  );\r\n}\r\nexport default Loading;\r\n","/* eslint-disable no-restricted-globals */\r\nimport React from 'react';\r\nimport style from './lostGame.module.css';\r\n\r\nfunction LostGame() {\r\n  return (\r\n    <div id={style.lost}>\r\n      <p>Oh no, you've lost. Try again?</p>\r\n      <img\r\n        src=\"https://www.jing.fm/clipimg/full/213-2135753_pokemon-clipart-sad-sad-tepig.png\"\r\n        alt=\"\"\r\n      />\r\n      <button onClick={() => location.reload()}>Restart</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LostGame;\r\n","/* eslint-disable no-restricted-globals */\r\nimport React, { useEffect, useState } from 'react';\r\nimport Card from '../components/card';\r\nimport style from './game.module.css';\r\nimport getPokemonsByIds from '../cardsLogic/cards';\r\nimport Loading from '../components/layout/loading';\r\nimport LostGame from '../components/lostGame';\r\n\r\ntype card = {\r\n  imgLink: string;\r\n  id: number;\r\n  name: string;\r\n  isClicked: boolean;\r\n};\r\ntype props = {\r\n  children?: React.ReactNode;\r\n  IncreaseLevel: Function;\r\n};\r\n\r\nfunction Game(props: props) {\r\n  const [cards, setCards] = useState<card[] | null>(null);\r\n  const [isLoading, setLoading] = useState(false);\r\n  const [cardNumber, setCardNumber] = useState(5);\r\n  const [isError, setError] = useState(false);\r\n  const [isLost, setLost] = useState(false);\r\n\r\n  useEffect(() => {\r\n    //fetching pokemons info and making cards when number of cards updates\r\n\r\n    setLoading(true);\r\n    const populateCards = async () => {\r\n      await Promise.all(getPokemonsByIds(cardNumber))\r\n        .then((result) => {\r\n          let pokemons = result;\r\n          let cardsState: card[] = pokemons.map((pokemon) => {\r\n            return {\r\n              id: pokemon.id,\r\n              name: pokemon.name,\r\n              imgLink: pokemon.imgLink,\r\n              isClicked: false,\r\n            };\r\n          });\r\n          setCards(cardsState);\r\n          setLoading(false);\r\n        })\r\n        .catch(() => {\r\n          setError(true);\r\n        });\r\n    };\r\n    populateCards();\r\n  }, [cardNumber]);\r\n\r\n  function clickHandler(index: number) {\r\n    if (cards![index].isClicked === false) {\r\n      setCards((oldState) => {\r\n        let newState = [...oldState!];\r\n        newState[index].isClicked = true;\r\n        newState = shuffle(newState);\r\n        checkWin(newState!);\r\n\r\n        return newState;\r\n      });\r\n    } else {\r\n      setLost(true);\r\n    }\r\n  }\r\n\r\n  function checkWin(state: card[]) {\r\n    let notClickedCards = state.filter((card) => card.isClicked === false);\r\n    if (notClickedCards.length > 0) {\r\n      return;\r\n    } else {\r\n      props.IncreaseLevel();\r\n      setCardNumber(cardNumber + 3);\r\n    }\r\n  }\r\n  if (isError) {\r\n    throw new Error('');\r\n  }\r\n\r\n  return isLost ? (\r\n    <LostGame />\r\n  ) : (\r\n    <div className={style.gameBoard}>\r\n      {isLoading ? (\r\n        <Loading />\r\n      ) : cards ? (\r\n        cards!.map((card, index) => {\r\n          return (\r\n            <Card\r\n              key={index}\r\n              imgSrc={card.imgLink}\r\n              id={card.id}\r\n              name={card.name}\r\n              clickHandler={() => clickHandler(index)}\r\n            />\r\n          );\r\n        })\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Game;\r\n\r\nfunction shuffle(array: any[]) {\r\n  let newArray = [...array];\r\n  for (let i = newArray.length - 1; i > 0; i--) {\r\n    let j = Math.floor(Math.random() * (i + 1)); // случайный индекс от 0 до i\r\n    [newArray[i], newArray[j]] = [newArray[j], newArray[i]];\r\n  }\r\n  return newArray;\r\n}\r\n","import React, { Component } from 'react';\r\nimport style from './ErrorBoundary.module.css';\r\n\r\nclass ErrorBoundary extends Component<\r\n  { children?: React.ReactNode },\r\n  { hasError: boolean }\r\n> {\r\n  constructor(props: { children?: React.ReactNode }) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  static getDerivedStateFromError() {\r\n    return { hasError: true };\r\n  }\r\n  render() {\r\n    return this.state.hasError ? (\r\n      <div id={style.error}>\r\n        <p className={style.text}>\r\n          Something went wrong... Please refresh the window. And here is a cute\r\n          picture of Togepi for you\r\n        </p>\r\n        <img\r\n          className={style.img}\r\n          src=\"https://i.pinimg.com/originals/6b/e2/46/6be246121be8548270ca52a4dd8d5549.png\"\r\n          alt=\"\"\r\n        />\r\n      </div>\r\n    ) : (\r\n      this.props.children\r\n    );\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","import React, { useState } from 'react';\nimport Headerr from './layout/headerr';\nimport Game from '../Containers/game';\nimport LevelContext from '../context/levelContext';\nimport ErrorBoundary from '../ErrorBoundaries/ErrorBoundary';\n\nfunction App() {\n  const [level, setSevel] = useState(1);\n\n  return (\n    <LevelContext.Provider value={level}>\n      <div className=\"App\">\n        <Headerr />\n        <ErrorBoundary>\n          <Game\n            IncreaseLevel={() => {\n              setSevel(level + 1);\n            }}\n          ></Game>\n        </ErrorBoundary>\n      </div>\n    </LevelContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"headerr_logo__1Zzj8\",\"header\":\"headerr_header__1CqiC\",\"headerText\":\"headerr_headerText__2ASao\"};"],"sourceRoot":""}